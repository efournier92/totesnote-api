{"version":3,"sources":["app.min.js"],"names":["console","log","square","diag","angular","module","config","$routeProvider","$locationProvider","when","templateUrl","controller","otherwise","redirectTo","html5Mode","run","$rootScope","$location","$http","auth","$on","event","nextRoute","currentRoute","path","isLoggedIn","authCtrl","$inject","apiData","$auth","credentials","email","password","onReg","register","error","err","alert","then","login","user","onLogin","service","$window","saveToken","token","localStorage","getToken","payload","split","atob","JSON","parse","exp","Date","now","currentUser","id","_id","widgets","post","success","data","logout","removeItem","dashboardCtrl","$scope","$uibModal","$log","$document","$filter","$dshBrd","draggable","deleteEnabled","urlsEnabled","areIconsLoaded","deleteIcon","lockIcon","updateWidgets","instantiateGridster","width","window","outerWidth","adjustedGridOptions","gridOptions","columns","checkScreenSize","start","screenSize","updateToolIconSize","toolIconSize","lastScreenSize","inputScreenSize","getProfile","widgetsLg","fromJson","widgetsSm","openAuthModal","finally","currentWidth","getIcons","saveWidgets","e","createWidget","widgetUrl","widgetWeight","widgetIcon","selectedIcon","defaultIcon","pushNewWidget","size","len","length","newWidget","createNewWidget","push","type","sizeX","sizeY","icon","url","row","Math","floor","col","importWidgets","widgetString","deleteWidget","widget","filter","element","toggleDraggable","enabled","toggleDelete","icons","allIcons","i","iconObj","iconString","shownIcons","loadSomeIcons","loadAllIcons","totalIcons","newIco","gridsterModalOptions","selectIcon","iconPath","openMainModal","parentSelector","parentElem","querySelector","undefined","modalInstance","open","appendTo","controllerAs","onLogout","syncWidgets","resetWidgets","getDefaultGrid","defaultGrid","clearGrid","resizeBreaks","bind","oldWidth","oldSize","newWidth","newSize","directive","clockWidget","restrict","elem","attrs","renderWidget","scrolly","link","scope","raw","scrollTop","offsetHeight","scrollHeight","$apply","selectText","on","selection","getSelection","range","document","createRange","selectNodeContents","removeAllRanges","addRange","get","headers","Authorization","put","pushing","floating","swapping","colWidth","rowHeight","margins","outerMargin","sparse","isMobile","mobileBreakPoint","mobileModeEnabled","defaultSizeX","defaultSizeY","resizable","minColumns","minRows","maxRows","minSizeX","maxSizeX","minSizeY","maxSizeY","handles","$element","resize","stop","handle","drag","calcGridOptions","factory","ncCalcButtons","digits","buttonKeys","isSpecialKey","RegExp","isOperatorKey","buttons","keyObj","key","test","ncCalcCtrl","result","out","updateCalcKeyHeight","display","number","calcInput","slice","checksymbol","eval","toString","notallow","indexOf","allCalcKeys","divHeight","height","calcRowHeight","calcKeyFontHeight","calcDisplayFontHeight","calcDisplay","getElementsByClassName","css","calcDisplayFont","setTimeout","ncCalc"],"mappings":"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","file":"app.min.js","sourcesContent":["\nimport { square, diag } from 'lib';\nconsole.log(square(11)); // 121\nconsole.log(diag(4, 3)); // 5\n\n(function () {\n\n  angular.module('nerveCenter',\n    ['ngRoute', 'ngAnimate', 'ngSanitize', 'ui.bootstrap',\n     'gridster', 'infinite-scroll', 'ds.clock']);\n\n  function config($routeProvider, $locationProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'dashboard/dashboard.view.html',\n        controller: 'dashboardCtrl',\n      })\n      .otherwise({redirectTo: '/'});\n\n    // HTML5 History API\n    $locationProvider.html5Mode(true);\n  }\n\n  function run($rootScope, $location, $http, auth) {\n    $rootScope.$on('$routeChangeStart', function(event, nextRoute, currentRoute) {\n      if ($location.path() === '/profile' && !auth.isLoggedIn()) {\n        $location.path('/');\n      }\n    });\n  }\n\n  angular\n    .module('nerveCenter')\n    .config(['$routeProvider', '$locationProvider', config])\n    .run(['$rootScope', '$location', '$uibModal', 'auth', run]);\n\n})();\n\n(function () {\n  angular\n    .module('nerveCenter')\n    .controller('authCtrl', authCtrl);\n\n  authCtrl.$inject = ['$location', 'auth', 'apiData'];\n  function authCtrl($location, auth, apiData) {\n    var $auth = this;\n\n    $auth.credentials = {\n      email : \"\",\n      password : \"\"\n    };\n\n    $auth.onReg = function () {\n      auth\n        .register($auth.credentials)\n        .error(function(err) {\n          alert(\"Sorry, you didn't fill in both fields.\\nPlease try again.\");\n        })\n        .then(function () {\n          auth.login($auth.credentials)\n          $location.path('../dashboard/dashboard.view');\n        });\n    };\n\n    $auth.user = {};\n\n    $auth.onLogin = function () {\n      auth\n        .login($auth.credentials)\n        .error(function(err) {\n          alert(\"Sorry, the username and password you entered don't match.\\nPlease try again.\");\n        })\n        .then(function () {\n          $location.path('../dashboard/dashboard.view');\n        });\n    }\n  }\n\n})();\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .service('auth', auth);\n\n  auth.$inject = ['$http', '$window'];\n  function auth($http, $window) {\n\n    var saveToken = function(token) {\n      $window.localStorage['mean-token'] = token;\n    };\n\n    var getToken = function () {\n      return $window.localStorage['mean-token'];\n    };\n\n    var isLoggedIn = function () {\n      var token = getToken();\n      var payload;\n\n      if(token){\n        payload = token.split('.')[1];\n        payload = $window.atob(payload);\n        payload = JSON.parse(payload);\n\n        return payload.exp > Date.now() / 1000;\n      } else {\n        return false;\n      }\n    };\n\n    var currentUser = function () {\n      if(isLoggedIn()){\n        var token = getToken();\n        var payload = token.split('.')[1];\n        payload = $window.atob(payload);\n        payload = JSON.parse(payload);\n        return {\n          id : payload._id,\n          email : payload.email,\n          widgets : payload.widgets\n        };\n      }\n    };\n\n    register = function(user) {\n      return $http.post('/api/register', user).success(function(data){\n      });\n    };\n\n    login = function(user) {\n      return $http.post('/api/login', user).success(function(data) {\n        saveToken(data.token);\n      });\n    };\n\n    logout = function () {\n      $window.localStorage.removeItem('mean-token');\n    };\n\n    return {\n      currentUser : currentUser,\n      saveToken : saveToken,\n      getToken : getToken,\n      isLoggedIn : isLoggedIn,\n      register : register,\n      login : login,\n      logout : logout\n    };\n  }\n\n})();\n\n\n(function () {\n\n  angular\n  .module('nerveCenter')\n  .controller('dashboardCtrl', dashboardCtrl);\n\n  function dashboardCtrl($scope, $http, $location,\n    $uibModal, $log, $document, $filter, $window, apiData, auth) {\n\n      var $dshBrd = this;\n\n      $scope.draggable = false;\n      $scope.deleteEnabled = false;\n      $scope.urlsEnabled = true;\n      $scope.areIconsLoaded = false;\n      $scope.deleteIcon = 'img/_x.png';\n      $scope.lockIcon = 'img/_locked.png';\n\n      updateWidgets();\n\n      function instantiateGridster() {\n        var width = this.window.outerWidth;\n        var adjustedGridOptions = gridOptions;\n        if (width > 500) {\n          adjustedGridOptions.columns = 7;\n        } else {\n          adjustedGridOptions.columns = 3;\n        }\n        return adjustedGridOptions;\n      }\n\n      function checkScreenSize() {\n        var start = $window.outerWidth;\n        if (start > 500) {\n          $dshBrd.screenSize = 'lg';\n        } else {\n          $dshBrd.screenSize = 'sm';\n        }\n      }\n\n      function updateToolIconSize() {\n        $scope.toolIconSize =\n        $dshBrd.screenSize == 'sm'\n        ? $scope.toolIconSize = 28 + 'px'\n        : $scope.toolIconSize = 20 + 'px';\n      }\n\n      updateToolIconSize();\n\n      function updateWidgets() {\n        checkScreenSize();\n        $dshBrd.lastScreenSize = inputScreenSize($window.outerWidth);\n        apiData.getProfile()\n        .success(function (user) {\n          $dshBrd.widgetsLg = angular.fromJson(user.widgetsLg);\n          $dshBrd.widgetsSm = angular.fromJson(user.widgetsSm);\n        })\n        .error(function () {\n          $scope.openAuthModal();\n        })\n        .finally(function () {\n          $scope.widgets =\n          $dshBrd.screenSize == 'lg'\n          ? $dshBrd.widgetsLg\n          : $dshBrd.widgetsSm;\n\n          $scope.gridOptions = instantiateGridster();\n          $dshBrd.currentWidth = $window.outerWidth;\n\n          getIcons();\n        });\n      }\n\n      $dshBrd.saveWidgets = function () {\n        checkScreenSize();\n\n        if ($dshBrd.screenSize == 'lg') {\n          $dshBrd.widgetsLg = $scope.widgets;\n        } else {\n          $dshBrd.widgetsSm = $scope.widgets;\n        }\n\n        data = [\n          $dshBrd.widgetsLg,\n          $dshBrd.widgetsSm\n        ];\n\n        apiData.updateWidgets(data)\n        .success(function (data) {\n          console.log('Successfully updated widgets')\n        })\n        .error(function (e) {\n          console.log(e);\n        });\n      }\n\n      $scope.createWidget = function () {\n        var widgetUrl = $scope.widgetUrl;\n        var widgetWeight = $scope.widgetWeight;\n        var widgetIcon = $scope.selectedIcon;\n\n        var defaultIcon = \"img/_blank.png\";\n        // Form validation\n        if (!widgetUrl && widgetIcon === defaultIcon) {\n          window.alert(\"Please Enter URL and Select an Icon\");\n          return;\n        } else if (!widgetUrl) {\n          window.alert(\"Please Enter URL\");\n          return;\n        } else if (widgetIcon === defaultIcon) {\n          window.alert(\"Please Select an Icon\");\n          return;\n        }\n\n        function pushNewWidget(size) {\n          if (size === 'lg') {\n            var len = $dshBrd.widgetsLg.length;\n            var columns = 7;\n            var newWidget = createNewWidget(len, columns);\n            $dshBrd.widgetsLg.push(newWidget);\n          } else if (size === 'sm') {\n            var len = $dshBrd.widgetsSm.length;\n            var columns = 3;\n            var newWidget = createNewWidget(len, columns);\n            $dshBrd.widgetsSm.push(newWidget);\n          }\n        }\n\n        function createNewWidget(len, columns) {\n          var newWidget = {\n            type: 'link-widget',\n            sizeX: 1,\n            sizeY: 1,\n            icon: widgetIcon,\n            url: widgetUrl,\n            row: Math.floor(len / columns),\n            col: (len % columns) + 1\n          }\n          return newWidget;\n        }\n\n        pushNewWidget('lg');\n        pushNewWidget('sm');\n\n        $dshBrd.saveWidgets();\n        $location.path('dashboard.view');\n      }\n\n      $scope.importWidgets = function () {\n        var widgetString = angular.fromJson($scope.widgetString);\n        $scope.widgets = widgetString;\n\n        checkScreenSize();\n        if ($dshBrd.screenSize == 'lg') {\n          $dshBrd.widgetsLg = widgetString;\n        } else {\n          $dshBrd.widgetsSm = widgetString;\n        }\n\n        $dshBrd.saveWidgets();\n        $location.path('dashboard.view');\n      }\n\n      $scope.deleteWidget = function (widget) {\n        $scope.widgets = $scope.widgets.filter(function (element){\n          return element.url != widget.url;\n        });\n\n        $dshBrd.saveWidgets();\n      }\n\n      $scope.toggleDraggable = function () {\n        gridOptions.draggable.enabled = !gridOptions.draggable.enabled;\n        $scope.urlsEnabled = !$scope.urlsEnabled;\n\n        if ($scope.deleteEnabled) {\n          $scope.deleteEnabled = false;\n          $scope.deleteIcon = 'img/_x.png';\n        }\n\n        if (gridOptions.draggable.enabled) {\n          $scope.lockIcon = 'img/_lockedRed.png';\n        } else {\n          $scope.lockIcon = 'img/_locked.png';\n        }\n\n        if (!gridOptions.draggable.enabled)\n        $dshBrd.saveWidgets();\n      }\n\n      $scope.toggleDelete = function () {\n        $scope.deleteEnabled = !$scope.deleteEnabled;\n        $scope.urlsEnabled = !$scope.urlsEnabled;\n\n        if ($scope.deleteEnabled) {\n          $scope.deleteIcon = 'img/_xRed.png';\n        } else {\n          $scope.deleteIcon = 'img/_x.png';\n        }\n\n        if (gridOptions.draggable.enabled) {\n          gridOptions.draggable.enabled = false;\n          $scope.lockIcon = 'img/_locked.png';\n        }\n      }\n\n      function getIcons() {\n        apiData.getIcons()\n        .success(function (icons) {\n          $dshBrd.icons = icons;\n        })\n        .finally(function () {\n          $dshBrd.allIcons = [];\n          var len = $dshBrd.icons.length;\n\n          for (i = 0; i < len; i++) {\n            var iconObj = {};\n            var iconString = 'img/ico/' + $dshBrd.icons[i];\n            iconObj.path = iconString;\n            $dshBrd.allIcons.push(iconObj);\n          }\n          $scope.shownIcons = [];\n          $scope.loadSomeIcons();\n        });\n      }\n\n      $scope.loadAllIcons = function () {\n        var allIcons = [];\n        var totalIcons = $dshBrd.allIcons.length - 1;\n        $scope.areIconsLoaded = true;\n\n        for (var i = 0; i <= totalIcons; i++) {\n          var newIco = $dshBrd.allIcons[i]\n          allIcons.push(newIco);\n        }\n        $scope.shownIcons = allIcons;\n      }\n\n      $scope.loadSomeIcons = function () {\n        for (var i = 0; i <= 24; i++) {\n          var newIco = $dshBrd.allIcons[i]\n          $scope.shownIcons.push(newIco);\n        }\n      }\n\n      $scope.gridsterModalOptions = gridsterModalOptions;\n      $scope.selectedIcon = \"img/_blank.png\";\n\n      $scope.selectIcon = function (iconPath) {\n        $scope.selectedIcon = iconPath;\n      }\n\n      $scope.openMainModal = function (size, parentSelector) {\n        gridOptions.draggable.enabled = false;\n        $scope.deleteEnabled = false;\n\n        var parentElem = parentSelector ?\n        angular.element($document[0].querySelector('.modal-demo')) : undefined;\n\n        var modalInstance = $uibModal.open({\n          templateUrl: 'mainModal.html',\n          controller: 'dashboardCtrl',\n          size: 'lg',\n          appendTo: parentElem\n        });\n      };\n\n      $scope.openAuthModal = function (size, parentSelector) {\n        var parentElem = parentSelector ?\n        angular.element($document[0].querySelector('.main-modal')) : undefined;\n\n        var modalInstance = $uibModal.open({\n          templateUrl: 'authModal.html',\n          controller: 'authCtrl',\n          controllerAs: '$auth',\n          appendTo: parentElem,\n        });\n      };\n\n      $scope.onLogout = function () {\n        auth.logout();\n        $location.path('dashboard.view');\n      }\n\n      $scope.syncWidgets = function () {\n        $dshBrd.widgetsLg = $scope.widgets;\n        $dshBrd.widgetsSm = $scope.widgets;\n        $dshBrd.saveWidgets();\n        $location.path('dashboard.view');\n      }\n\n      $scope.resetWidgets = function () {\n        checkScreenSize();\n\n        apiData.getDefaultGrid()\n        .success(function (defaultGrid) {\n          defaultGrid = angular.fromJson(defaultGrid);\n          $scope.widgets = defaultGrid;\n          if ($dshBrd.screenSize == 'lg') {\n            $dshBrd.widgetsLg = defaultGrid;\n          } else {\n            $dshBrd.widgetsSm = defaultGrid;\n          }\n        })\n        .error(function (e) {\n          console.log(e);\n        })\n        .finally(function () {\n          $dshBrd.saveWidgets();\n          $location.path('dashboard.view');\n        });\n      }\n\n      $scope.clearGrid = function () {\n        $scope.widgets = [];\n        if ($dshBrd.screenSize == 'lg') {\n          $dshBrd.widgetsLg = [];\n        } else {\n          $dshBrd.widgetsSm = [];\n        }\n        $dshBrd.saveWidgets();\n        $location.path('dashboard.view');\n      }\n\n      var resizeBreaks = {\n        'sm' : 500\n      };\n\n      function inputScreenSize(width) {\n        if (width > 500) {\n          return 'lg';\n        } else {\n          return 'sm';\n        }\n      }\n\n      angular.element($window).bind('resize', function () {\n        var oldWidth = $dshBrd.currentWidth;\n        var oldSize = $dshBrd.lastScreenSize;\n        var newWidth = $window.outerWidth;\n        var newSize = inputScreenSize(newWidth);\n\n        if (oldSize !== newSize) {\n          $location.path('dashboard.view');\n        }\n\n        $dshBrd.lastScreenSize = newSize;\n      });\n    };\n  })();\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .directive('clockWidget', clockWidget);\n\n  function clockWidget() {\n    return {\n      restrict: 'AEC',\n      templateUrl: function (elem, attrs) {\n        return \"/dashboard/widgetTemplates/clock-widget.template.html\";\n      }\n    }\n  };\n})();\n\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .directive('renderWidget', renderWidget);\n\n  function renderWidget() {\n    return {\n      restrict: 'AEC',\n      templateUrl: function (elem, attrs) {\n        return \"/dashboard/widgetTemplates/\" + attrs.type +\".template.html\";\n      }\n    }\n  };\n})();\n\n(function () {\n\n  angular\n  .module('nerveCenter')\n  .directive('scrolly', scrolly);\n\n  function scrolly($window) {\n    return {\n      restrict: 'AEC',\n      link: function (scope, element, attrs) {\n        var raw = element[0];\n\n        element.bind('scroll', function () {\n          if (raw.scrollTop + raw.offsetHeight > raw.scrollHeight) {\n            scope.$apply(attrs.scrolly);\n          }\n        });\n      }\n    };\n  };\n});\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .directive('selectText', selectText);\n\n  function selectText($window) {\n    return {\n      link: function(scope, element) {\n        element.on('click', function () {\n          var selection = $window.getSelection();        \n          var range = document.createRange();\n          range.selectNodeContents(element[0]);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        });\n      }\n    }\n  }\n\n})();\n\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .service('apiData', apiData);\n\n  apiData.$inject = ['$http', 'auth'];\n  function apiData($http, auth) {\n\n    var getProfile = function () {\n      return $http.get('/api/user', {\n        headers: {\n          Authorization: 'Bearer '+ auth.getToken()\n        }\n      });\n    };\n\n    var updateWidgets = function (data) {\n      return $http.put('/api/user', data, {\n        headers: {\n          Authorization: 'Bearer '+ auth.getToken()\n        }\n      });\n    };\n\n    var getIcons = function (data) {\n      return $http.get('/api/ico', data, {\n        headers: {\n          Authorization: 'Bearer '+ auth.getToken()\n        }\n      });\n    };\n\n    var getDefaultGrid = function (data) {\n      return $http.get('/api/defaultgrid', data, {\n        headers: {\n          Authorization: 'Bearer '+ auth.getToken()\n        }\n      });\n    };\n\n    return {\n      getProfile : getProfile,\n      updateWidgets: updateWidgets,\n      getIcons: getIcons,\n      getDefaultGrid: getDefaultGrid\n    };\n\n  }\n\n})();\n\n\nvar allIcons = [\n  { icon:\"img/BNK.png\" },\n  { icon:\"img/CNN.png\" },\n  { icon:\"img/Drive.png\" },\n  { icon:\"img/FreePress.png\" },\n  { icon:\"img/GitHub.png\" },\n  { icon:\"img/Google.png\" },\n  { icon:\"img/Image.png\" },\n  { icon:\"img/Indeed.png\" },\n  { icon:\"img/Launch.png\" },\n  { icon:\"img/Linked.png\" },\n  { icon:\"img/Notes.png\" },\n  { icon:\"img/ReadLater.png\" },\n  { icon:\"img/RTorrent.png\" },\n  { icon:\"img/Slack.png\" },\n  { icon:\"img/Tape.png\" },\n  { icon:\"img/Trend.png\" },\n  { icon:\"img/Tube.png\" },\n  { icon:\"img/Twitter.png\" },\n  { icon:\"img/Wiki.png\" }\n];\n\nvar gridOptions = {\n  columns: 7,\n  pushing: true,\n  floating: true,\n  swapping: true,\n  width: 'auto',\n  colWidth: 'auto',\n  rowHeight: 'match',\n  margins: [10, 10],\n  outerMargin: true,\n  sparse: false,\n  isMobile: false,\n  mobileBreakPoint: 600,\n  mobileModeEnabled: false,\n  defaultSizeX: 1,\n  defaultSizeY: 1,\n  resizable: {\n    enabled: false,\n  },\n  draggable: {\n    enabled: false\n  }\n};\n\nvar gridsterModalOptions = {\n  columns: 6,\n  pushing: true,\n  floating: true,\n  swapping: true,\n  width: 'auto',\n  colWidth: 'auto',\n  rowHeight: 'match',\n  margins: [10, 10],\n  outerMargin: true,\n  sparse: false,\n  isMobile: false,\n  mobileBreakPoint: 600,\n  mobileModeEnabled: false,\n  minColumns: 1,\n  minRows: 1,\n  maxRows: 100,\n  defaultSizeX: 1,\n  defaultSizeY: 1,\n  minSizeX: 1,\n  maxSizeX: null,\n  minSizeY: 1,\n  maxSizeY: null,\n  resizable: {\n    enabled: false,\n    handles: ['n', 'e', 's', 'w', 'ne', 'se', 'sw', 'nw'],\n    start: function(event, $element, widget) {},\n    resize: function(event, $element, widget) {},\n    stop: function(event, $element, widget) {}\n  },\n  draggable: {\n    enabled: false,\n    handle: '.my-class',\n    start: function(event, $element, widget) {},\n    drag: function(event, $element, widget) {},\n    stop: function(event, $element, widget) {}\n  }\n};\n\n\nvar calcGridOptions = {\n  columns: 6,\n  pushing: true,\n  floating: true,\n  swapping: true,\n  width: 'auto',\n  colWidth: 'auto',\n  rowHeight: 'match',\n  margins: [0, 0],\n  outerMargin: true,\n  sparse: false,\n  isMobile: false,\n  mobileBreakPoint: 600,\n  mobileModeEnabled: false,\n  defaultSizeX: 1,\n  defaultSizeY: 1,\n  resizable: {\n    enabled: false,\n  },\n  draggable: {\n    enabled: false\n  }\n};\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .factory('ncCalcButtons', ncCalcButtons);\n\n  function ncCalcButtons() {\n    var factory = {};\n\n    factory.digits = function () {\n      var buttonKeys = [\n        '7','8','9','.','+','-',\n        '4','5','6','=','*','/',\n        '1','2','3','0','<','c'\n      ];\n\n      var isSpecialKey = new RegExp(\"[c|<]\");\n      var isOperatorKey = new RegExp(\"([.|=|*|/|+|-])\");\n      var buttons = [];\n      var len = buttonKeys.length - 1;\n      var i;\n\n      for (i = 0; i <= len; i++) {\n        var keyObj = {};\n        keyObj.key = buttonKeys[i];\n        keyObj.col = Math.floor((i + 1) / 6);\n        keyObj.row = i - (6 * keyObj.col);\n\n        if (isSpecialKey.test(keyObj.key)) {\n          keyObj.type = 'specialKey';\n        } else if (isOperatorKey.test(keyObj.key)) {\n          keyObj.type = 'operatorKey';\n        } else {\n          keyObj.type = 'digitKey';\n        }\n\n        buttons.push(keyObj);\n      }\n\n      return buttons;\n    }\n    return factory;\n  }\n\n})();\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .controller('ncCalcCtrl', ncCalcCtrl);\n\n  function ncCalcCtrl($scope, $window, ncCalcButtons) {\n\n    $scope.calcGridOptions = calcGridOptions;\n    $scope.result = 0;\n    $scope.out = '0';\n    updateCalcKeyHeight();\n\n    $scope.display = function (number) {\n\n      if ($scope.out != 'undefined'\n        && number != '='\n        && number != 'c'\n        && number != '<') {\n        $scope.out = \n          $scope.out === '0' \n          ? number\n          : $scope.out + number;\n      }\n\n      if ($scope.calcInput != '') {\n        switch (number) {\n\n          case 'c':\n            //reset display\n            $scope.out = '0';\n            break;\n\n          case '<':\n            //backspace\n            $scope.out = $scope.out.slice(0, -1);\n            break;\n\n          case '=':\n            //calculate\n            if ($scope.checksymbol($scope.out)) {\n              $scope.out = eval($scope.out).toString();\n            }\n            break;\n\n          default:\n            break\n        }\n      }\n    }\n\n    $scope.checksymbol = function (number) {\n      // check if string contains a restricted charater\n      var notallow = ['+','-','/','*','.',''];\n      if (notallow.indexOf(number.slice(-1))> -1 || notallow.indexOf(number.slice(0,1))>-1) {\n        return false;\n      }\n      return true;\n    }\n\n    $scope.allCalcKeys = ncCalcButtons.digits();\n    $scope.type = true;\n\n    function updateCalcKeyHeight() {\n      var divHeight = angular.element('#widget-icon').height()\n      var calcRowHeight = divHeight / 4.25;\n      var calcKeyFontHeight = divHeight / 10;\n      var calcDisplayFontHeight = divHeight / 6;\n      $scope.calcGridOptions.rowHeight = calcRowHeight;\n\n      var calcDisplay = document.getElementsByClassName('calc-key');\n      calcDisplay = angular.element(calcDisplay);\n      calcDisplay.css('height', calcRowHeight);\n      calcDisplay.css('font-size', calcKeyFontHeight);\n\n      var calcDisplayFont = document.getElementsByClassName('display-inner');\n      calcDisplayFont = angular.element(calcDisplayFont);\n      calcDisplayFont.css('font-size', calcDisplayFontHeight);\n    }\n\n    angular.element($window).bind('resize', function ($scope) {\n      setTimeout(updateCalcKeyHeight, 250);\n    });\n\n  };\n\n})();\n\n\n(function () {\n\n  angular\n    .module('nerveCenter')\n    .directive('ncCalc', ncCalc);\n\n  function ncCalc() {\n    return {\n      restrict: 'AEC',\n      controller: 'ncCalcCtrl',\n      templateUrl: '/dashboard/nc-calc/nc-calc.template.html'\n    }\n  }\n})();\n\n\n//# sourceMappingURL=app.min.js.map\n"]}